<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Data Management Using R</title>
  <meta name="description" content="This book is a guidebook for medical data management in R." />
  <meta name="generator" content="bookdown 0.24.4 and GitBook 2.6.7" />

  <meta property="og:title" content="Data Management Using R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://dmur.netlify.com" />
  
  <meta property="og:description" content="This book is a guidebook for medical data management in R." />
  <meta name="github-repo" content="myominnoo/dmur" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Management Using R" />
  
  <meta name="twitter:description" content="This book is a guidebook for medical data management in R." />
  

<meta name="author" content="Myo Minn Oo, MD, PhD" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="getting-started.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="include/webex.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">dmur</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Under construction</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#inspirations"><i class="fa fa-check"></i>Inspirations</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-this-handbook"><i class="fa fa-check"></i>How to use this handbook</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-versions"><i class="fa fa-check"></i>Software versions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#terms-of-use-and-contribution"><i class="fa fa-check"></i>Terms of Use and Contribution</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#citation"><i class="fa fa-check"></i>Citation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contribution"><i class="fa fa-check"></i>Contribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.1</b> RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#start-screen"><i class="fa fa-check"></i><b>1.2</b> Start screen</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#r-packages"><i class="fa fa-check"></i><b>1.3</b> R Packages</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started.html"><a href="getting-started.html#installing-a-package-from-cran"><i class="fa fa-check"></i><b>1.3.1</b> Installing a package from CRAN</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started.html"><a href="getting-started.html#installing-a-package-from-github"><i class="fa fa-check"></i><b>1.3.2</b> Installing a package from GitHub</a></li>
<li class="chapter" data-level="1.3.3" data-path="getting-started.html"><a href="getting-started.html#essential-packages-for-this-book"><i class="fa fa-check"></i><b>1.3.3</b> Essential packages for this book</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#mstats"><i class="fa fa-check"></i><b>1.4</b> mStats</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#how-it-started"><i class="fa fa-check"></i><b>1.4.1</b> How it started</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#guiding-principles"><i class="fa fa-check"></i><b>1.4.2</b> Guiding principles</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#package-masking"><i class="fa fa-check"></i><b>1.5</b> Package masking</a></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#piping-your-workflow"><i class="fa fa-check"></i><b>1.6</b> Piping your workflow</a></li>
<li class="chapter" data-level="1.7" data-path="getting-started.html"><a href="getting-started.html#searching-help"><i class="fa fa-check"></i><b>1.7</b> Searching Help</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="getting-started.html"><a href="getting-started.html#general"><i class="fa fa-check"></i><b>1.7.1</b> General</a></li>
<li class="chapter" data-level="1.7.2" data-path="getting-started.html"><a href="getting-started.html#getting-help"><i class="fa fa-check"></i><b>1.7.2</b> Getting help</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="getting-started.html"><a href="getting-started.html#exampledata"><i class="fa fa-check"></i><b>1.8</b> Example datasets</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="getting-started.html"><a href="getting-started.html#dmus2"><i class="fa fa-check"></i><b>1.8.1</b> dmus2</a></li>
<li class="chapter" data-level="1.8.2" data-path="getting-started.html"><a href="getting-started.html#who-mortality-data"><i class="fa fa-check"></i><b>1.8.2</b> WHO Mortality Data</a></li>
<li class="chapter" data-level="1.8.3" data-path="getting-started.html"><a href="getting-started.html#ucla-stata-tutorial"><i class="fa fa-check"></i><b>1.8.3</b> UCLA Stata Tutorial</a></li>
<li class="chapter" data-level="1.8.4" data-path="getting-started.html"><a href="getting-started.html#miliary-tuberculosis"><i class="fa fa-check"></i><b>1.8.4</b> Miliary Tuberculosis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html"><i class="fa fa-check"></i><b>2</b> Using existing data files</a>
<ul>
<li class="chapter" data-level="2.1" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#working-directories"><i class="fa fa-check"></i><b>2.1</b> Working directories</a></li>
<li class="chapter" data-level="2.2" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#reading-data-files-into-r"><i class="fa fa-check"></i><b>2.2</b> Reading data files into R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#csv-and-text-data-files"><i class="fa fa-check"></i><b>2.2.1</b> CSV and text data files</a></li>
<li class="chapter" data-level="2.2.2" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#excel-spreadsheets"><i class="fa fa-check"></i><b>2.2.2</b> Excel spreadsheets</a></li>
<li class="chapter" data-level="2.2.3" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#stata-datasets"><i class="fa fa-check"></i><b>2.2.3</b> Stata datasets</a></li>
<li class="chapter" data-level="2.2.4" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#spss-datasets"><i class="fa fa-check"></i><b>2.2.4</b> SPSS datasets</a></li>
<li class="chapter" data-level="2.2.5" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#entering-data-directly"><i class="fa fa-check"></i><b>2.2.5</b> Entering data directly</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#saving-data-files"><i class="fa fa-check"></i><b>2.3</b> Saving data files</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#r-data-files"><i class="fa fa-check"></i><b>2.3.1</b> R Data files</a></li>
<li class="chapter" data-level="2.3.2" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#csv-spreadsheets"><i class="fa fa-check"></i><b>2.3.2</b> CSV spreadsheets</a></li>
<li class="chapter" data-level="2.3.3" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#excel-spreadsheets-1"><i class="fa fa-check"></i><b>2.3.3</b> Excel spreadsheets</a></li>
<li class="chapter" data-level="2.3.4" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#stata-datasets-1"><i class="fa fa-check"></i><b>2.3.4</b> Stata datasets</a></li>
<li class="chapter" data-level="2.3.5" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#spss-datasets-1"><i class="fa fa-check"></i><b>2.3.5</b> SPSS datasets</a></li>
<li class="chapter" data-level="2.3.6" data-path="using-existing-data-files.html"><a href="using-existing-data-files.html#other-types"><i class="fa fa-check"></i><b>2.3.6</b> Other types</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Management Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Data Management Using R</h1>
<p class="author"><em>Myo Minn Oo, MD, PhD</em></p>
<p class="date"><em>Last updated on 2021-12-12</em></p>
</div>
<div id="section" class="section level1 unnumbered">
<h1 class="unnumbered"></h1>
<meta name="description" content="This book is a guidebook for medical data management in R.">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<p>Welcome to <code>dmur</code>!</p>
<p>This is a book for anyone who are interested in manipulating and processing medical data. This book introduces different aspects of data management and how to implement these in R using RStudio. While there are a plethora of great R books covering a variety of data management topics, I hope this book would serve as a self-learning guide to avoid roadblocks and frustrations before becoming fully comfortable with using R. Many beginners find themselves wanting to develop data management skills in R, but lose their patience after they encounter a steep learning curve of R and several months of frustration. If you feel nostalgic about this, this book is for you.</p>
<p>It is intended for non-technical audience and Stata users to:</p>
<ul>
<li>Serve as a guidebook to R code for data management</li>
<li>Serve as a R code reference manual for <code>mStats</code> package</li>
<li>Provide task-centered examples addressing common data management problems</li>
<li>Assist people in transitioning to R</li>
</ul>
<!-- ======================================================= -->
<form target="_blank" action="https://paypal.me/myominnoo" method="post" target="_top">
<input type="hidden" name="hosted_button_id" value="ZWAS7SEV7F8BJ" />
<input type="image" src="https://github.com/appliedepi/epiRhandbook_eng/raw/master/images/donate_button_long.png" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" />
</form>
<!-- ======================================================= -->
<div id="under-construction" class="section level2 unnumbered">
<h2>Under construction</h2>
<p>This book is still <strong>UNDER CONSTRUCTION</strong>. If you have any comments or suggestions, feel free to contact me at <a href="mailto::dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>. Thank you!</p>
<p>if you have a dataset that you think would be suitable for inclusion in this text (as an example or for an exercise), I would love to hear about it.</p>
<form target="_blank" action="https://forms.gle/YeJPpRcSLUzeZE5u7">
<input type="submit" value="SUGGESTIONS" />
</form>
</div>
<div id="inspirations" class="section level2 unnumbered">
<h2>Inspirations</h2>
<p>Tutorials and books that provided ideas and knowledge of this book are credited within their respective pages. More generally, the following sources provided inspiration for this book:</p>
<ul>
<li><a href="https://www.stata.com/bookstore/data-management-using-stata/">Data Management Using Stata: A Practical Handbook</a></li>
<li><a href="https://stats.idre.ucla.edu/stata/">UCLA’s Stata tutorials</a></li>
<li><a href="https://www.epirhandbook.com/en/">R for applied epidemiology and public health</a></li>
<li><a href="https://r4ds.had.co.nz/">R for Data Science book (R4DS)</a><br />
</li>
<li><a href="https://bookdown.org/yihui/bookdown/">bookdown: Authoring Books and Technical Documents with R Markdown</a></li>
<li><a href="https://www.netlify.com">Netlify</a> hosts this website</li>
</ul>
<p>The design of this book is based on the codes obtained from <a href="https://github.com/higgi13425/rmrwr-book">Peter Higgins</a>. Kudos to Peter!</p>
</div>
<div id="how-to-use-this-handbook" class="section level2 unnumbered">
<h2>How to use this handbook</h2>
<ul>
<li>Browse the pages in the Table of Contents, or use the search box</li>
<li>Click the “copy” icons to copy code<br />
</li>
<li>You can follow along with the example datasets we will download in the next chapter <a href="getting-started.html#exampledata">1.8</a>.</li>
</ul>
</div>
<div id="software-versions" class="section level2 unnumbered">
<h2>Software versions</h2>
<p>The knitr package (Xie 2015) and the bookdown package (Xie 2021) were used to compile this text. The R session information is shown below:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="index.html#cb1-1" aria-hidden="true" tabindex="-1"></a>xfun<span class="sc">::</span><span class="fu">session_info</span>()</span></code></pre></div>
<pre><code>## R version 4.1.0 (2021-05-18)
## Platform: x86_64-apple-darwin17.0 (64-bit)
## Running under: macOS Big Sur 10.16
## 
## Locale: en_US.UTF-8 / en_US.UTF-8 / en_US.UTF-8 / C / en_US.UTF-8 / en_US.UTF-8
## 
## Package version:
##   base64enc_0.1.3 bookdown_0.24.4 bslib_0.3.1     compiler_4.1.0 
##   digest_0.6.29   evaluate_0.14   fastmap_1.1.0   fs_1.5.2       
##   glue_1.5.1      graphics_4.1.0  grDevices_4.1.0 highr_0.9      
##   htmltools_0.5.2 jquerylib_0.1.4 jsonlite_1.7.2  knitr_1.36     
##   magrittr_2.0.1  methods_4.1.0   R6_2.5.1        rappdirs_0.3.3 
##   rlang_0.4.12    rmarkdown_2.11  sass_0.4.0      stats_4.1.0    
##   stringi_1.7.6   stringr_1.4.0   tinytex_0.35    tools_4.1.0    
##   utils_4.1.0     xfun_0.28       yaml_2.2.1</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="index.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &#39;1.3.1&#39;</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="index.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &#39;1.0.7&#39;</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="index.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;magrittr&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &#39;2.0.1&#39;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="index.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;mStats&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &#39;4.0.0&#39;</code></pre>
<!-- ### Image credits {-}   -->
<!-- Images in logo from US CDC Public Health Image Library) include [2013 Yemen looking for mosquito breeding sites](https://phil.cdc.gov/Details.aspx?pid=19623), [Ebola virus](https://phil.cdc.gov/Details.aspx?pid=23186), and [Survey in Rajasthan](https://phil.cdc.gov/Details.aspx?pid=19838).   -->
</div>
<div id="terms-of-use-and-contribution" class="section level2 unnumbered">
<h2>Terms of Use and Contribution</h2>
<div id="license" class="section level3 unnumbered">
<h3>License</h3>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a> Data Management Using R, 2021 <br />This work is licensed by Applied Epi Incorporated under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
<p>Academic courses and training programs are welcome to use this handbook with their students, but please send us an email to let me know. If you have questions about your intended use, email <strong><a href="mailto:dr.myominnoo@gmail.com" class="email">dr.myominnoo@gmail.com</a></strong>.</p>
</div>
<div id="citation" class="section level3 unnumbered">
<h3>Citation</h3>
<p>Oo, Myo Minn. Data Management Using R. 2021.</p>
</div>
<div id="contribution" class="section level3 unnumbered">
<h3>Contribution</h3>
<p>If you would like to make a content contribution, please contact with us first via Github issues or by email. We are implementing a schedule for updates and are creating a contributor guide.</p>
<p>Please note that the epiRhandbook project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>

</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>

<a href="getting-started.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["dmur.pdf", "dmur.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
